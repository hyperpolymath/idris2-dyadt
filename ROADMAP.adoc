// SPDX-License-Identifier: PMPL-1.0-or-later
= idris2-dyadt Roadmap

This document outlines the development roadmap for idris2-dyadt.

== Current Status: Scaffolding Complete (50%)

The core library structure is in place with working integration modules.

== Phase 1: Type System Foundation (Target: Q1 2025)

=== Milestone 1.1: Core Types Complete
* [x] Claim type hierarchy
* [x] Evidence dependent type family
* [x] Verified wrapper type
* [ ] Add remaining claim types from Rust crate
* [ ] Test all type-level computations compile

=== Milestone 1.2: Combinator DSL
* [x] Basic combinators (file, dir, cmd, gitClean)
* [x] Logical combinators (and, or, all, any)
* [x] Common patterns (rustProject, nodeProject)
* [ ] Add more convenience patterns
* [ ] Optimize combinator composition

=== Milestone 1.3: Runtime Verifier
* [x] FileExists verification
* [x] DirectoryExists verification
* [x] CommandSucceeds verification
* [x] EnvVarSet/EnvVarEquals verification
* [x] GitClean verification
* [ ] FileWithHash verification
* [ ] FileContains verification
* [ ] FileMatchesRegex verification

== Phase 2: Elaboration-Time Verification (Target: Q2 2025)

=== Milestone 2.1: Elaboration Scripts
* [ ] Research Idris2 elaboration reflection
* [ ] Implement %runElab for file checks
* [ ] Implement %runElab for command execution
* [ ] Document elaboration patterns

=== Milestone 2.2: Compile-Time Verification
* [ ] FileExists at compile time
* [ ] DirectoryExists at compile time
* [ ] EnvVarSet at compile time
* [ ] Hash verification at compile time

=== Milestone 2.3: Error Messages
* [ ] Custom type errors for failed claims
* [ ] Helpful suggestions for common issues
* [ ] Source location in error messages

== Phase 3: Advanced Features (Target: Q3 2025)

=== Milestone 3.1: Conditional Claims
* [ ] Platform-specific claims
* [ ] Optional claims
* [ ] Feature-gated claims

=== Milestone 3.2: Proof Export
* [ ] Export evidence as proof objects
* [ ] Integration with proof assistants
* [ ] Proof serialization format

=== Milestone 3.3: Caching
* [ ] Cache verification results
* [ ] Incremental verification
* [ ] Hash-based cache invalidation

== Phase 4: Production Ready (Target: Q4 2025)

=== Milestone 4.1: Testing & Quality
* [ ] Property-based tests
* [ ] Integration tests with real projects
* [ ] Performance benchmarks
* [ ] Memory usage optimization

=== Milestone 4.2: Documentation
* [ ] Complete API documentation
* [ ] Migration guide from Rust crate
* [ ] Best practices guide
* [ ] Tutorial series

=== Milestone 4.3: Distribution
* [ ] Package on Idris2 package registry
* [ ] CI/CD pipeline
* [ ] Release automation
* [ ] Changelog management

== Future Considerations

=== Potential Features
* Watch mode for continuous verification
* IDE integration (LSP)
* Custom claim type creation DSL
* Verification report generation

=== Research Directions
* Proof-carrying code
* Cross-language verification
* AI-assisted claim suggestion

== Version History

[cols="1,1,3"]
|===
|Version |Date |Notes

|0.1.0 |2025-01-17 |Initial scaffold with core structure
|===

== Contributing

See CONTRIBUTING.adoc for guidelines on contributing to this project.
